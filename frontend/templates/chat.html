{% extends "base.html" %}
{% block content %}

<header class="header">
    <h1>Veritas AI</h1>
    <p>Document-grounded AI assistant</p>
</header>

<div class="main-layout">

    <!-- LEFT PANEL -->
    <aside class="side-panel">

        <!-- Drive Configuration -->
        <section class="upload-section">
            <h3>Connect Google Drive</h3>

            <label><strong>Service Account JSON</strong></label>
            <input type="file" id="serviceAccountFile" accept=".json">

            <label><strong>Google Drive Folder ID</strong></label>
            <input type="text" id="folderIdInput" placeholder="Enter folder ID">

            <button onclick="configureDrive()">Connect Drive</button>

            <div id="driveStatus"></div>
        </section>

        <!-- Drive File Selection -->
        <section class="upload-section">
            <h3>Select document from Drive</h3>

            <select id="driveFileSelect" disabled>
                <option value="">-- Select a file --</option>
            </select>

            <button onclick="uploadDriveFile()" disabled id="uploadBtn">
                Upload Document
            </button>

            <div id="uploadStatus"></div>
            <ul id="uploadedFiles" class="uploaded-files"></ul>
        </section>

    </aside>

    <!-- RIGHT PANEL -->
    <main class="chat-panel">

        <!-- System Alert -->
        <div id="systemAlert" class="system-alert hidden">
            <span class="alert-text">
                Please upload at least one document before asking a question.
            </span>
            <button class="alert-close" onclick="closeAlert()">Ã—</button>
        </div>

        <!-- Chat Section -->
        <section class="chat-section">
            <div id="chatBox" class="chat-box"></div>

            <div class="input-area">
                <textarea
                    id="userInput"
                    placeholder="Ask a question based on uploaded documents..."
                    rows="2"
                    disabled
                ></textarea>
                <button onclick="sendMessage()" disabled id="sendBtn">
                    Send
                </button>
            </div>
        </section>

    </main>

</div>

{% endblock %}



